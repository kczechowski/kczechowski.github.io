(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{237:function(t,e,o){"use strict";o.r(e);var n={name:"color-rgb-span",props:["rgb"],data:function(){return{}},methods:{},mounted:function(){}},r=o(54),component=Object(r.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("svg",{staticClass:"color ",attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M0 0H16V8V13.3333L13.5758 16H0V0Z",fill:this.rgb}})])])}),[],!1,null,null,null);e.default=component.exports},247:function(t,e,o){"use strict";o.r(e);o(8),o(4),o(77),o(10),o(22),o(9),o(129),o(21),o(11);var n=o(0),r=(o(57),o(20)),l=o(234),c=o.n(l);o(422),o(75),o(62),o(5),o(26),o(50);function d(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,c=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return l=t.done,t},e:function(t){c=!0,r=t},f:function(){try{l||null==o.return||o.return()}finally{if(c)throw r}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var m,v={name:"doc-uploader",props:["documents"],components:{},data:function(){return{docs:[]}},computed:{},mounted:function(){this.documents&&(this.docs=this.documents)},methods:{filesLoaded:(m=Object(r.a)(regeneratorRuntime.mark((function t(e){var o,n,r,l,c,f,m=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=Array.from(e.target.files),n=!1,o.forEach((function(t){new RegExp("^application/pdf").test(t.type)||(m.resetInput(),m.$emit("fileError","File is not pdf"),n=!0)})),!n){t.next=5;break}return t.abrupt("return");case 5:r=d(o.filter((function(t){return new RegExp("^application/pdf").test(t.type)})));try{for(r.s();!(l=r.n()).done;)c=l.value,f={file:{url:"",name:c.name}},this.$emit("fileUploaded",f.file)}catch(t){r.e(t)}finally{r.f()}this.resetInput();case 8:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)}),resetInput:function(){var t=this.$refs.filesInput;t.type="text",t.type="file"},removeFile:function(t){this.$emit("removeFile",t.id)}}},h=o(54),_=Object(h.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("form",{staticClass:"form-inline"},[o("div",{staticClass:"form-group"},[o("input",{ref:"filesInput",staticClass:"btn btn-warning",attrs:{type:"file",multiple:"",role:"button"},on:{change:t.filesLoaded}})])]),t._v(" "),o("div",t._l(t.documents,(function(e){return o("div",[o("a",{attrs:{href:e.url,target:"_blank"}},[t._v(t._s(e.name))]),t._v(" "),o("button",{staticClass:"btn btn-danger",attrs:{type:"button",role:"button"},on:{click:function(o){return t.removeFile(e)}}},[t._v("X")])])})),0)])}),[],!1,null,null,null).exports,y=o(30),C=(o(18),o(420));function w(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return j(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,c=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return l=t.done,t},e:function(t){c=!0,r=t},f:function(){try{l||null==o.return||o.return()}finally{if(c)throw r}}}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var x,k={name:"photo-adder",props:["photoCollection"],components:{cropper:C.default,Keypress:function(){return o.e(9).then(o.bind(null,512))}},data:function(){return{img:null,queue:[],croppingPhotos:[],isSaving:!1,showModal:!1}},computed:{sortedPhotos:function(){return Object(y.a)(this.photoCollection.photos).sort((function(a,b){return a.order-b.order}))},canSave:function(){var t=this.croppingPhotos.filter((function(p){return p.cropped}));return console.log(t),!(0===t.length&&!this.img)&&!(!this.img||t.length!==this.croppingPhotos.length-1&&t.length!==this.croppingPhotos.length)}},mounted:function(){null===this.photoCollection&&console.error("photocollection is null")},methods:{showSaveModal:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isSaving=!0,e.next=3,t.cropAll();case 3:t.hide(),t.resetPhoto(),t.isSaving=!1;case 6:case"end":return e.stop()}}),e)})))()},show:function(){console.log("show"),this.showModal=!0},hide:function(){this.showModal=!1},cropAll:(x=Object(r.a)(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.saveCurrentPhotoData(),this.croppingPhotos.map((function(t){return t.cropped})).forEach((function(t){e.photoCollection.photos.push({file:{url:t},order:1,state:"on"}),console.log(t)})),console.log(this.photoCollection);case 4:case"end":return t.stop()}}),t,this)}))),function(){return x.apply(this,arguments)}),filesLoaded:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var o,n,r,l,c,base,img,d=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.img=null,o=Array.from(e.target.files),n=!1,o.forEach((function(t){new RegExp("^image").test(t.type)||(d.resetPhoto(),d.hide(),d.$emit("fileError","File "+t.name+" is not an image"),n=!0)})),!n){t.next=6;break}return t.abrupt("return");case 6:r=w(o.filter((function(t){return new RegExp("^image").test(t.type)}))),t.prev=7,r.s();case 9:if((l=r.n()).done){t.next=19;break}return c=l.value,t.next=13,this.toBase64(c);case 13:base=t.sent,img={base:base,cropBoxData:null,cropped:null},this.queue.push(img),this.croppingPhotos.push(img);case 17:t.next=9;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(7),r.e(t.t0);case 24:return t.prev=24,r.f(),t.finish(24);case 27:this.show(),this.nextFromQueue();case 29:case"end":return t.stop()}}),t,this,[[7,21,24,27]])})));return function(e){return t.apply(this,arguments)}}(),popFromQueue:function(){this.img&&this.$refs.cropper.destroy(),this.img=null,this.img=this.queue.pop()},prevFromQueue:function(){if(this.img){var t=this.croppingPhotos.indexOf(this.img);t>0&&this.loadPhoto(this.croppingPhotos[t-1])}else this.img=null},nextFromQueue:function(){if(this.img){var t=this.croppingPhotos.indexOf(this.img);t<this.croppingPhotos.length-1&&this.loadPhoto(this.croppingPhotos[t+1])}else this.loadPhoto(this.croppingPhotos[0])},selectFromQueue:function(t){t!==this.img&&this.loadPhoto(t)},deleteFromQueue:function(t){var e=t===this.img;console.log(e),this.croppingPhotos=this.croppingPhotos.filter((function(p){return p!==t})),console.log(this.croppingPhotos),console.log(this.img),e&&(this.img=null,this.$refs.cropper.destroy(),this.croppingPhotos.length?this.nextFromQueue():(this.resetPhoto(),this.hide()))},saveCurrentPhotoData:function(){if(this.img){console.log("save");var t=this.croppingPhotos.indexOf(this.img);if(this.$refs.cropper.cropper){var data={cropBoxData:this.$refs.cropper.cropper.getCropBoxData(),data:this.$refs.cropper.cropper.getData(!0),canvas:this.$refs.cropper.cropper.getCanvasData()};this.croppingPhotos[t].cropBoxData=data;var e=this.$refs.cropper.crop();this.croppingPhotos[t].cropped=e,this.$refs.cropper.destroy()}}},loadPhoto:function(t){this.saveCurrentPhotoData(),this.img=t},onCropperInit:function(){},readyFn:function(){console.log("ready");var t=this.img;t.cropBoxData&&this.$refs.cropper.cropper.setData(t.cropBoxData.data)},resetPhoto:function(){this.img=null,this.$refs.cropper&&this.$refs.cropper.destroy(),this.croppingPhotos=[],this.queue=[]},toBase64:function(t){return function(t){return new Promise((function(e,o){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){return e(n.result)},n.onerror=function(t){return o(t)}}))}(t)},onPhotoChange:function(t){t.hasChanged=!0},hidePhoto:function(t){"on"===t.state?t.state="off":t.state="on",t.hasChanged=!0},onClosed:function(t){console.log("modal closed")},onBeforeClose:function(t){console.log("before closed"),this.resetPhoto()}}},A=(o(498),Object(h.a)(k,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.showModal?o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container"},[o("div",{staticClass:"modal-body"},[o("div",{staticClass:"modal-header"},[t._t("header",[t._v("\n              Wykadruj zdjęcia:\n            ")])],2),t._v(" "),t._t("body",[o("div",{staticClass:"container-fluid"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("span",[t._v("Kadrowanie ("+t._s(t.queue.length)+")")])])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-12"},[o("div",{staticClass:"thumbnail"},[t.img?o("cropper",{ref:"cropper",attrs:{img:t.img.base,"ready-fn":t.readyFn},on:{cropperInit:t.onCropperInit}}):t._e()],1)])]),t._v(" "),o("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},t._l(t.croppingPhotos,(function(e){return o("div",{staticClass:"pointer",class:{selected:e===t.img},on:{click:function(o){return t.selectFromQueue(e)}}},[o("img",{staticStyle:{width:"60px"},attrs:{src:e.base}}),t._v(" "),o("button",{on:{click:function(o){return t.deleteFromQueue(e)}}},[o("font-awesome-icon",{attrs:{icon:["fas","trash"]}})],1)])})),0),t._v(" "),t.canSave?t._e():o("div",[o("span",[t._v("Sprawdź każde zdjęcie, aby umożliwić zapisanie")])]),t._v(" "),o("div",[o("button",{staticClass:"btn btn-primary",class:{disabled:!t.canSave},staticStyle:{"margin-top":"10px"},attrs:{type:"button",disabled:!t.canSave},on:{click:function(e){return t.showSaveModal()}}},[t._v("Zapisz\n                ")])])])])],2)])])])]):t._e()}),[],!1,null,null,null)),P=A.exports;installComponents(A,{Cropper:o(420).default});var S={name:"photo-collection-edit",props:["photoCollection"],components:{PhotoAdder:P},computed:{sortedPhotos:function(){return Object(y.a)(this.photoCollection.photos).sort((function(a,b){return a.order-b.order})).filter((function(p){return"off"!==p.state}))}},data:function(){return{mounted:!1,currentPhoto:null,mainPhoto:null,showPhotoAdder:!1}},mounted:function(){null!==this.photoCollection?this.currentPhoto=this.sortedPhotos.length?this.sortedPhotos[0]:null:console.error("photocollection is null")},methods:{filesLoaded:function(t){console.log("files loaded",t);var e=this.$refs.photo_adder;console.log(this.$refs),console.log(e),e.filesLoaded(t);var input=this.$refs.filesInput;input.type="text",input.type="file"},hidePhoto:function(t){"on"===t.state?t.state="off":t.state="on",t.hasChanged=!0},onFileError:function(t){alert(t)}},watch:{}},z=Object(h.a)(S,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{},[o("photo-adder",{ref:"photo_adder",attrs:{"photo-collection":t.photoCollection},on:{fileError:t.onFileError}}),t._v(" "),o("input",{ref:"filesInput",staticClass:"btn",attrs:{type:"file",multiple:"",role:"button"},on:{change:t.filesLoaded}}),t._v(" "),t.photoCollection.photos.length?o("h6",[t._v("Dodane zdjęcia")]):t._e(),t._v(" "),o("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},t._l(t.sortedPhotos,(function(e){return o("div",{},[o("div",[o("img",{directives:[{name:"img",rawName:"v-img"}],staticStyle:{width:"100px"},attrs:{src:e.file.url}}),t._v(" "),o("button",{on:{click:function(o){return t.hidePhoto(e)}}},[o("font-awesome-icon",{attrs:{icon:["fas","trash"]}})],1)])])})),0)],1)}),[],!1,null,null,null).exports,E=o(237),O=o(418),M=o(419);function $(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function R(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var B,F,D,N,I,U,L=c()().year(),Q={id:null,car_id:null,file_id:null,state:"on",file:null,type:"specification"},H={id:Math.round(100*Math.random()),ceq_brand:null,ceq_model:null,ceq_version:"",production_year:L,is_new:null,origin_country:"poland",mileage:1,owners:null,photo_collection:null,techdata:{body:null,gearbox:null,fuel:null,drive:null,doors_count:null,sit_count:null,engine_capacity:null,engine_power:null,colors:[],color:null,available_colors:[]},equipment:[],docs:[]},W=[{brand:"Mercedes",models:[{model:"Klasa GLS"}]},{brand:"Toyota",models:[{model:"Corolla"}]}],T={name:"car-add-component",props:["preCar"],components:{SavingModal:M.default,ColorRgbSpan:E.default,ColorModal:O.default,"doc-uploader":_,"photo-collection-edit":z},data:function(){return{currentPack:null,isEditingVersion:!1,step:1,showAllColors:!1,selectedColors:[],docs:[],colors:{hex:"#000"},showColorPicker:!1,extendedModelList:!1,isSaving:!1,filterModels:!0,isCeqFetching:!1,photoCollectionModalShow:!1,ceq_brands:W,ceq_models:[],ceq_versions:[],showtechdata:!1,hasFinishedForm:!1,showFinishForm:!1,car:null,availableEquipment:[],availableEquipmentElements:[],availableEquipmentPacks:[],toggledEquipment:[],toggledPacks:[],changeTechdata:!1,selectedDealer:null,modelEq:null,showColorModal:!1}},computed:{outsideEquipment:function(){return[{text:"ABS"},{text:"Poduszki powietrzne przód"},{text:"Poduszki powietrzne tył"},{text:"Alarm"},{text:"Radio"},{text:"Alufelgi"}]},allowStep2:function(){return Boolean(this.car.ceq_version)},hasFilledVersion:function(){return!this.car.ceq_model||Boolean(this.car.ceq_version)}},methods:{nextStep:function(){this.step++},prevStep:function(){this.step--},onCEQBrandChange:(U=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("ceqbrandchange"),this.showtechdata=!1,this.ceq_models=[],this.car.model_group=null,this.car.ceq_model=null,this.car.ceq_version=null,this.car.equipment=[],this.car.equipment_packs=[];case 8:case"end":return t.stop()}}),t,this)}))),function(){return U.apply(this,arguments)}),openSaveModal:function(){this.showFinishForm=!0},saveCar:(I=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.car.equipment.concat(this.toggledEquipment),!this.preCar){t.next=6;break}return t.next=4,this.$store.dispatch("cars/editCar",this.car);case 4:t.next=8;break;case 6:return t.next=8,this.$store.dispatch("cars/addCar",this.car);case 8:return console.log(this.$store),this.$router.push({name:"index"}),console.log(JSON.stringify(this.car)),t.abrupt("return",this.car);case 12:case"end":return t.stop()}}),t,this)}))),function(){return I.apply(this,arguments)}),toggleEquipment:function(t){var e=this.toggledEquipment.map((function(t){return t.text})).indexOf(t.text);-1===e?this.toggledEquipment.push(t):this.toggledEquipment.splice(e,1)},toggleOnEquipment:function(t){-1===this.toggledEquipment.map((function(t){return t.eq_code})).indexOf(t.eq_code)&&this.toggledEquipment.push(t)},toggleOffEquipment:function(t){var e=this.toggledEquipment.map((function(t){return t.eq_code})).indexOf(t.eq_code);-1!==e&&this.toggledEquipment.splice(e,1)},togglePack:function(t){var e=this,o=this.toggledPacks.map((function(p){return p.eq_code})).indexOf(t.eq_code),n=this.availableEquipmentElements.filter((function(e){return t.eq_code===e.equipment_pack_id&&1===e.is_buyable}));-1===o?(this.toggledPacks.push(t),n.forEach((function(t){return e.toggleOnEquipment(t)}))):(this.toggledPacks.splice(o,1),n.forEach((function(t){return e.toggleOffEquipment(t)})))},addNewPhoto:(N=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initPhotoCollection();case 2:this.photoCollectionModalShow=!0;case 3:case"end":return t.stop()}}),t,this)}))),function(){return N.apply(this,arguments)}),initPhotoCollection:(D=Object(r.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.car.photo_collection){t.next=5;break}return t.next=3,api.photoCollectionAdd().get();case 3:e=t.sent,this.car.photo_collection=e;case 5:case"end":return t.stop()}}),t,this)}))),function(){return D.apply(this,arguments)}),initVideoCollection:(F=Object(r.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.car.video_collection){t.next=5;break}return t.next=3,api.videoCollectionAdd().get();case 3:e=t.sent,this.car.video_collection=e;case 5:case"end":return t.stop()}}),t,this)}))),function(){return F.apply(this,arguments)}),updateRGB:function(t){this.car.techdata.color_rgb=t.hex},onColorTypeChange:function(){this.showColorPicker=!0;var t=this.car.techdata.color.color_type,e=this.constMapper.COLOR_RGB[t]||"#000000";this.colors={hex:e},this.car.techdata.color.color_rgb=e},prepareEquipmentJson:function(){var t=this,e=[];this.toggledEquipment.filter((function(t){return!t.is_part_of_pack})).forEach((function(t){var o={ceq_equipment_type_id:t.equipment_type.id,group_id:t.equipment_type.eq_group_id,name:t.equipment_type.text||t.equipment_type.name,is_not_from_api:!1},n={ceq_equipment_id:t.id,equipment_type:o,eq_code:t.eq_code,is_part_of_pack:!1,is_standard:Boolean(t.is_standard),is_pack:!1,is_free:Boolean(t.is_free),is_buyable:Boolean(t.is_buyable),is_not_ready:Boolean(t.is_not_ready),equipment_pack_id:null,price_netto:t.price_netto,price_brutto:t.price_brutto,price_currency:t.price_currency};e.push(n)}));var o=this.toggledEquipment.filter((function(e){return 1===e.is_part_of_pack&&1===e.is_buyable&&(o=e.equipment_pack_id,!t.toggledPacks.find((function(t){return t.eq_code===o})));var o}));return o.forEach((function(t){var o={ceq_equipment_type_id:t.equipment_type.id,group_id:t.equipment_type.eq_group_id,name:t.equipment_type.text,is_not_from_api:!1},n={ceq_equipment_id:t.id,equipment_type:o,eq_code:t.eq_code,is_part_of_pack:!1,is_standard:Boolean(t.is_standard),is_pack:!1,is_free:Boolean(t.is_free),is_buyable:Boolean(t.is_buyable),is_not_ready:Boolean(t.is_not_ready),equipment_pack_id:null,price_netto:t.price_netto,price_brutto:t.price_brutto,price_currency:t.price_currency};e.push(n)})),console.log(o),this.toggledPacks.forEach((function(o){var n={ceq_equipment_type_id:o.equipment_type.id,group_id:o.equipment_type.eq_group_id,name:o.equipment_type.text,is_not_from_api:!1},r={ceq_equipment_id:o.id,equipment_type:n,eq_code:o.eq_code,is_standard:Boolean(o.is_standard),is_part_of_pack:!1,is_free:Boolean(o.is_free),is_buyable:Boolean(o.is_buyable),is_not_ready:Boolean(o.is_not_ready),is_pack:!0,equipment_pack_id:o.eq_code,price_netto:o.price_netto,price_brutto:o.price_brutto,price_currency:o.price_currency};e.push(r);var l=t.availableEquipment.filter((function(t){return 1===t.is_part_of_pack&&t.equipment_pack_id===o.eq_code}));l.forEach((function(t){var n={ceq_equipment_type_id:t.equipment_type.id,group_id:t.equipment_type.eq_group_id,name:t.equipment_type.text,is_not_from_api:!1},r={ceq_equipment_id:t.id,equipment_type:n,eq_code:t.eq_code,is_part_of_pack:!0,is_standard:Boolean(t.is_standard),is_pack:!1,is_free:Boolean(t.is_free),is_buyable:!1,is_not_ready:Boolean(t.is_not_ready),equipment_pack_id:o.eq_code,price_netto:0,price_brutto:0,price_currency:t.price_currency};e.push(r)})),console.log(o),console.log(l)})),e},savePhotoCollection:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.photocollection.savePhotoCollection();case 2:t.photoCollectionModalShow=!1;case 3:case"end":return e.stop()}}),e)})))()},onFileUploaded:function(t){var e=R({},Q);e.file_id=t.id,e.file=t,this.car.docs.push(e)},onFileError:function(t){alert(t)},onFileUploadedLeasing:function(t){var e=R({},Q);e.file_id=t.id,e.file=t,e.type="leasing",this.car.docs.push(e)},onFileUploadedCredit:function(t){var e=R({},Q);e.file_id=t.id,e.file=t,e.type="credit",this.car.docs.push(e)},onRemoveFile:function(t){this.car.docs=this.car.docs.filter((function(e){return e.file_id!==t}))},onDealerChange:function(){var t=this,e=this.dealers.find((function(e){return e.id===t.car.dealer_id}));e?(this.selectedDealer=e,"add"!==this.mode&&this.car.dealer_person_id||(this.car.dealer_person_id=e.dealer_persons.length?e.dealer_persons[0].id:null)):this.selectedDealer=null},dealerSelected:function(data){this.car.dealer_id=data.dealer_id,this.car.dealer_person_id=data.person_id,this.onDealerChange()},onSaveClick:function(){this.$refs.carConfirmModal.show()},onCarConfirmed:(B=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("confirmed"),t.next=3,this.saveCar();case 3:t.sent;case 4:case"end":return t.stop()}}),t,this)}))),function(){return B.apply(this,arguments)}),showColorsModal:function(){this.$refs.colorsModal.show()},onColorsSelected:function(t){this.car.techdata.color=t[0],this.showColorModal=!1}},mounted:function(){console.log(this.$store.state),this.preCar?this.car=this.preCar:(this.car=R({},H),this.car.photo_collection={photos:[]})},watch:{extendedModelList:function(){var t=this;console.log("ddd"),this.getCEQBrands().then((function(e){t.ceq_brands=e,"add"===t.mode||(t.car.ceq_brand=t.ceq_brands.find((function(b){return b.id===t.car.ceq_brand_id}))),t.onCEQBrandChange()}))}}},V=(o(504),Object(h.a)(T,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.car?o("div",{},[o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-10",staticStyle:{background:"#fff",padding:"10px"}},[o("div",[o("span",[t._v("Krok:")]),t._v(" "),o("label",[t._v("Model")]),t._v(" "),o("button",{staticClass:"btn btn-secondary",class:{"btn-success":1===t.step},on:{click:function(e){t.step=1}}},[t._v("1")]),t._v(" "),o("label",[t._v("Dane techniczne")]),t._v(" "),o("button",{staticClass:"btn btn-secondary",class:{"btn-success":2===t.step},attrs:{disabled:!t.allowStep2},on:{click:function(e){t.step=2}}},[t._v("2")]),t._v(" "),o("label",[t._v("Wyposażenie")]),t._v(" "),o("button",{staticClass:"btn btn-secondary",class:{"btn-success":3===t.step},attrs:{disabled:!t.allowStep2},on:{click:function(e){t.step=3}}},[t._v("3")]),t._v(" "),o("label",[t._v("Załączniki")]),t._v(" "),o("button",{staticClass:"btn btn-secondary",class:{"btn-success":4===t.step},attrs:{disabled:!t.allowStep2},on:{click:function(e){t.step=4}}},[t._v("4")])]),t._v(" "),1===t.step?o("div",[o("div",{staticClass:"row"},[o("div",{staticClass:"col col-sm-6"},[o("h5",[t._v("Wybierz model i markę:")]),t._v(" "),o("p",{staticClass:"form-group"},[o("label",[t._v("Marka:")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.car.ceq_brand,expression:"car.ceq_brand"}],staticClass:"form-control",attrs:{autocomplete:"off",tabindex:"2"},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.car,"ceq_brand",e.target.multiple?o:o[0])},t.onCEQBrandChange]}},t._l(t.ceq_brands,(function(e){return o("option",{domProps:{value:e}},[t._v("\n                      "+t._s(e.brand)+"\n                    ")])})),0)]),t._v(" "),o("p",{staticClass:"form-group"},[o("label",[t._v("Model:")]),t._v(" "),t.car.ceq_brand?o("select",{directives:[{name:"model",rawName:"v-model",value:t.car.ceq_model,expression:"car.ceq_model"}],staticClass:"form-control",attrs:{autocomplete:"off"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.car,"ceq_model",e.target.multiple?o:o[0])}}},t._l(t.car.ceq_brand.models,(function(e){return o("option",{domProps:{value:e}},[t._v("\n                      "+t._s(e.model)+"\n                    ")])})),0):o("select",{staticClass:"form-control",attrs:{disabled:""}})]),t._v(" "),o("p",{staticClass:"form-group"},[o("label",[t._v("Wersja*")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.car.ceq_version,expression:"car.ceq_version"}],staticClass:"form-control",attrs:{type:"text",disabled:!t.car.ceq_model,required:""},domProps:{value:t.car.ceq_version},on:{input:function(e){e.target.composing||t.$set(t.car,"ceq_version",e.target.value)}}}),t._v(" "),t.hasFilledVersion?t._e():o("label",{staticClass:"text-danger"},[t._v("Uzupełnij nazwę wersji!")])]),t._v(" "),o("p",{staticClass:"form-group"},[o("label",[t._v("Rok produkcji:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.car.production_year,expression:"car.production_year"}],staticClass:"form-control ",attrs:{type:"text",id:"production_year",required:""},domProps:{value:t.car.production_year},on:{input:function(e){e.target.composing||t.$set(t.car,"production_year",e.target.value)}}})])])]),t._v(" "),o("div",[o("button",{staticClass:"btn pull-right",on:{click:function(e){return t.nextStep()}}},[t._v("Dalej >")])])]):t._e(),t._v(" "),2===t.step?o("div",[o("div",[o("h5",[t._v("Główne:")]),t._v(" "),o("div",{staticClass:"row"},[o("p",{staticClass:"form-group col-sm-3"},[o("label",[t._v("Stan*:")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.car.is_new,expression:"car.is_new"}],staticClass:"form-control",attrs:{autocomplete:"off",id:"is_new"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.car,"is_new",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"Nowy"}},[t._v("Nowy")]),t._v(" "),o("option",{attrs:{value:"Używany"}},[t._v("Używany")])])]),t._v(" "),o("p",{staticClass:"form-group col-sm-3"},[o("label",[t._v("Przebieg [km]:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.car.mileage,expression:"car.mileage"}],staticClass:"form-control ",attrs:{type:"text",id:"mileage"},domProps:{value:t.car.mileage},on:{input:function(e){e.target.composing||t.$set(t.car,"mileage",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"row"},[o("p",{staticClass:"form-group col-sm-3"},[o("label",[t._v("Ilość właścicieli:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.car.owners,expression:"car.owners"}],staticClass:"form-control ",attrs:{type:"text",id:"owners_number"},domProps:{value:t.car.owners},on:{input:function(e){e.target.composing||t.$set(t.car,"owners",e.target.value)}}})]),t._v(" "),o("p",{staticClass:"form-group col-sm-3"},[o("label",[t._v("Kraj pochodzenia:")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.car.origin_country,expression:"car.origin_country"}],staticClass:"form-control",attrs:{autocomplete:"off",id:"origincountry"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.car,"origin_country",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"austria"}},[t._v("Austria")]),t._v(" "),o("option",{attrs:{value:"belgium"}},[t._v("Belgia")]),t._v(" "),o("option",{attrs:{value:"belarus"}},[t._v("Białoruś")]),t._v(" "),o("option",{attrs:{value:"bulgaria"}},[t._v("Bułgaria")]),t._v(" "),o("option",{attrs:{value:"croatia"}},[t._v("Chorwacja")]),t._v(" "),o("option",{attrs:{value:"czech"}},[t._v("Czechy")]),t._v(" "),o("option",{attrs:{value:"denmark"}},[t._v("Dania")]),t._v(" "),o("option",{attrs:{value:"estonia"}},[t._v("Estonia")]),t._v(" "),o("option",{attrs:{value:"finland"}},[t._v("Finlandia")]),t._v(" "),o("option",{attrs:{value:"france"}},[t._v("Francja")]),t._v(" "),o("option",{attrs:{value:"greece"}},[t._v("Grecja")]),t._v(" "),o("option",{attrs:{value:"spain"}},[t._v("Hiszpania")]),t._v(" "),o("option",{attrs:{value:"netherlands"}},[t._v("Holandia")]),t._v(" "),o("option",{attrs:{value:"ireland"}},[t._v("Irlandia")]),t._v(" "),o("option",{attrs:{value:"iceland"}},[t._v("Islandia")]),t._v(" "),o("option",{attrs:{value:"canada"}},[t._v("Kanada")]),t._v(" "),o("option",{attrs:{value:"lithuania"}},[t._v("Litwa")]),t._v(" "),o("option",{attrs:{value:"latvia"}},[t._v("Łotwa")]),t._v(" "),o("option",{attrs:{value:"germany"}},[t._v("Niemcy")]),t._v(" "),o("option",{attrs:{value:"norway"}},[t._v("Norwegia")]),t._v(" "),o("option",{attrs:{value:"poland"}},[t._v("Polska")]),t._v(" "),o("option",{attrs:{value:"russia"}},[t._v("Rosja")]),t._v(" "),o("option",{attrs:{value:"romania"}},[t._v("Rumunia")]),t._v(" "),o("option",{attrs:{value:"slovakia"}},[t._v("Słowacja")]),t._v(" "),o("option",{attrs:{value:"slovenia"}},[t._v("Słowenia")]),t._v(" "),o("option",{attrs:{value:"usa"}},[t._v("USA")]),t._v(" "),o("option",{attrs:{value:"switzerland"}},[t._v("Szwajcaria")]),t._v(" "),o("option",{attrs:{value:"sweden"}},[t._v("Szwecja")]),t._v(" "),o("option",{attrs:{value:"ukraine"}},[t._v("Ukraina")]),t._v(" "),o("option",{attrs:{value:"hungary"}},[t._v("Węgry")]),t._v(" "),o("option",{attrs:{value:"united_kingdom"}},[t._v("Wielka Brytania")]),t._v(" "),o("option",{attrs:{value:"italy"}},[t._v("Włochy")]),t._v(" "),o("option",{attrs:{value:"other"}},[t._v("Inny")])])])]),t._v(" "),o("h5",[t._v("Nadwozie:")]),t._v(" "),o("div",{staticClass:"row"},[o("p",{staticClass:"form-group col-sm-3"},[o("label",[t._v("Typ nadwozia*:")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.car.techdata.body,expression:"car.techdata.body"}],staticClass:"form-control",attrs:{autocomplete:"off",tabindex:"20"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.car.techdata,"body",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"Hatchback"}},[t._v("\n                    Hatchback\n                  ")]),t._v(" "),o("option",{attrs:{value:"Kombi"}},[t._v("\n                      Kombi\n                    ")])])]),t._v(" "),o("p",{staticClass:"form-group col-sm-3"},[o("label",[t._v("Liczba miejsc*:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.car.techdata.sit_count,expression:"car.techdata.sit_count"}],staticClass:"form-control ",attrs:{type:"text",id:"seats_count"},domProps:{value:t.car.techdata.sit_count},on:{input:function(e){e.target.composing||t.$set(t.car.techdata,"sit_count",e.target.value)}}})]),t._v(" "),o("p",{staticClass:"form-group col-sm-3"},[o("label",[t._v("Liczba drzwi*:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.car.techdata.doors_count,expression:"car.techdata.doors_count"}],staticClass:"form-control ",attrs:{type:"text",id:"doors_count"},domProps:{value:t.car.techdata.doors_count},on:{input:function(e){e.target.composing||t.$set(t.car.techdata,"doors_count",e.target.value)}}})])]),t._v(" "),t._m(0),t._v(" "),o("div",{staticClass:"row"},[t.car.techdata.color?o("div",{staticClass:"form-group col-sm-3"},[o("label",[t._v(t._s(t.car.techdata.color.color_name))]),t._v(" "),o("color-rgb-span",{attrs:{rgb:t.car.techdata.color.color_rgb}})],1):o("div",{staticClass:"form-group col-sm-3"},[o("span",{staticClass:"text-danger"},[t._v("Nie wybrano koloru")])]),t._v(" "),o("div",{staticClass:"form-group col-sm-3"},[o("button",{staticClass:"btn btn-primary",staticStyle:{"text-decoration":"underline"},on:{click:function(e){t.showColorModal=!0}}},[t._v("Dodaj kolor "),o("span",{staticClass:"glyphicon glyphicon-plus"})])])]),t._v(" "),o("h5",[t._v("Silnik:")]),t._v(" "),o("div",{staticClass:"row"},[o("p",{staticClass:"form-group col-sm-3"},[o("label",[t._v("Napęd*:")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.car.techdata.drive,expression:"car.techdata.drive"}],staticClass:"form-control",attrs:{autocomplete:"off",id:"transmission"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.car.techdata,"drive",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"Napęd przedni"}},[t._v("\n                      Przedni\n                    ")]),t._v(" "),o("option",{attrs:{value:"Napęd tylny"}},[t._v("\n                      Tylny\n                    ")]),t._v(" "),o("option",{attrs:{value:"AWD"}},[t._v("\n                      AWD\n                    ")])])]),t._v(" "),o("p",{staticClass:"form-group col-sm-3"},[o("label",[t._v("Pojemność [cm3]*:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.car.techdata.engine_capacity,expression:"car.techdata.engine_capacity"}],staticClass:"form-control ",attrs:{type:"text",id:"capacity"},domProps:{value:t.car.techdata.engine_capacity},on:{input:function(e){e.target.composing||t.$set(t.car.techdata,"engine_capacity",e.target.value)}}})]),t._v(" "),o("p",{staticClass:"form-group col-sm-3"},[o("label",[t._v("Moc [KM]*:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.car.techdata.engine_power,expression:"car.techdata.engine_power"}],staticClass:"form-control ",attrs:{type:"text"},domProps:{value:t.car.techdata.engine_power},on:{input:function(e){e.target.composing||t.$set(t.car.techdata,"engine_power",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"row"},[o("p",{staticClass:"form-group col-sm-3"},[o("label",[t._v("Paliwo*:")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.car.techdata.fuel,expression:"car.techdata.fuel"}],staticClass:"form-control",attrs:{autocomplete:"off",id:"fuel"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.car.techdata,"fuel",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"Diesel"}},[t._v("\n                      Diesel\n                    ")]),t._v(" "),o("option",{attrs:{value:"Benzyna"}},[t._v("\n                      Benzyna\n                    ")])])]),t._v(" "),o("p",{staticClass:"form-group col-sm-3"},[o("label",[t._v("Skrzynia biegów*:")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.car.techdata.gearbox,expression:"car.techdata.gearbox"}],staticClass:"form-control",attrs:{autocomplete:"off",id:"gearbox"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.car.techdata,"gearbox",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"Skrzynia manualna"}},[t._v("\n                      Manualna\n                    ")]),t._v(" "),o("option",{attrs:{value:"Skrzynia automatyczna"}},[t._v("\n                      Automatyczna\n                    ")])])])])]),t._v(" "),o("div",[o("button",{staticClass:"btn pull-left",on:{click:function(e){return t.prevStep()}}},[t._v("< Cofnij")]),t._v(" "),o("button",{staticClass:"btn pull-right",on:{click:function(e){return t.nextStep()}}},[t._v("Dalej >")])])]):t._e(),t._v(" "),3===t.step?o("div",[o("div",{staticClass:"row"},[o("div",{staticStyle:{background:"lightgray",padding:"10px"}},[o("h5",[t._v("Wyposażenie")]),t._v(" "),o("div",{staticClass:"form-group"},[o("div",{staticClass:"row"},t._l(t.outsideEquipment,(function(e){return o("div",{staticClass:"col col-sm-6 col-md-4 col-lg-3",staticStyle:{"margin-top":"10px"}},[o("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.text,expression:"eq.text"}],staticClass:"btn btn-block btn-secondary",class:{"btn-success":t.toggledEquipment.map((function(t){return t.text})).includes(e.text)},staticStyle:{overflow:"hidden"},attrs:{value:e},on:{click:function(o){return t.toggleEquipment(e)}}},[t._v("\n                        "+t._s(e.text)+"\n                      ")])])})),0)])])]),t._v(" "),o("div",[o("button",{staticClass:"btn pull-left",on:{click:function(e){return t.prevStep()}}},[t._v("< Cofnij")]),t._v(" "),o("button",{staticClass:"btn pull-right",on:{click:function(e){return t.nextStep()}}},[t._v("Dalej >")])])]):t._e(),t._v(" "),4===t.step?o("div",[o("div",{staticClass:"row"},[o("div",{staticStyle:{padding:"10px"}},[o("h5",[t._v("Zdjęcia")]),t._v(" "),o("photo-collection-edit",{attrs:{"photo-collection":t.car.photo_collection}})],1),t._v(" "),o("div",{staticStyle:{padding:"10px"}},[o("h5",[t._v("Dokumenty")]),t._v(" "),o("doc-uploader",{on:{fileUploaded:t.onFileUploaded,removeFile:t.onRemoveFile,fileError:t.onFileError}}),t._v(" "),o("div",{staticClass:"container"},[o("div",{staticClass:"row"},t._l(t.car.docs,(function(e){return o("button",{staticClass:"btn"},[o("font-awesome-icon",{attrs:{icon:["fas","file"]}}),t._v(" "+t._s(e.file.name))],1)})),0)])],1)]),t._v(" "),o("div",[o("button",{staticClass:"btn pull-left",on:{click:function(e){return t.prevStep()}}},[t._v("< Cofnij")]),t._v(" "),o("button",{staticClass:"btn pull-right",on:{click:function(e){return t.onSaveClick()}}},[t._v("Zapisz samochód w bazie")])])]):t._e()])])]),t._v(" "),t.showColorModal?o("ColorModal",{on:{colorsSelected:t.onColorsSelected}}):t._e(),t._v(" "),o("SavingModal",{ref:"saving_modal"}),t._v(" "),o("CarConfirmModal",{ref:"carConfirmModal",on:{confirmed:function(e){return t.onCarConfirmed()}}})],1):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-sm-3"},[e("label",[this._v("Kolor główny*:")])])])}],!1,null,null,null));e.default=V.exports;installComponents(V,{ColorRgbSpan:o(237).default,ColorModal:o(418).default,SavingModal:o(419).default,CarConfirmModal:o(508).default})},248:function(t,e,o){"use strict";o.r(e);var n={},r=o(54),component=Object(r.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[e("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[this._v("Home")]),this._v(" "),this._m(0),this._v(" "),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav mr-auto"}),this._v(" "),e("form",{staticClass:"form-inline my-2 my-lg-0"},[e("NuxtLink",{staticClass:"btn btn-info",attrs:{to:"addcar/"}},[this._v("Dodaj ogłoszenie+")])],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],!1,null,null,null);e.default=component.exports},411:function(t,e,o){var content=o(497);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(56).default)("0374a276",content,!0,{sourceMap:!1})},412:function(t,e,o){var content=o(499);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(56).default)("4fd271cf",content,!0,{sourceMap:!1})},413:function(t,e,o){var content=o(501);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(56).default)("d1295ac2",content,!0,{sourceMap:!1})},414:function(t,e,o){var content=o(503);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(56).default)("67812792",content,!0,{sourceMap:!1})},415:function(t,e,o){var content=o(505);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(56).default)("c698e31e",content,!0,{sourceMap:!1})},416:function(t,e,o){var content=o(507);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(56).default)("0f379cda",content,!0,{sourceMap:!1})},418:function(t,e,o){"use strict";o.r(e);o(4),o(57);var n,r,l=o(20),c=o(237),d={name:"colors-modal",components:{ColorRgbSpan:c.default},props:["activeColors"],data:function(){return{colors:[]}},methods:{show:function(){this.$modal.show("colors_modal")},hide:function(){this.$modal.hide("colors_modal")},selectColor:function(t){this.$emit("colorsSelected",[t])},getColors:(r=Object(l.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[{color_name:"Piano black",color_rgb:"#000000",paint:"metallic",color_type:"black"},{color_name:"Arctic White",color_rgb:"#cbcbcb",paint:"metallic",color_type:"white"},{color_name:"Very red",color_rgb:"#ff0000",paint:"metallic",color_type:"red"}],t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},computed:{metallicColors:function(){return this.colors.filter((function(t){return"metallic"===t.paint}))},toggledMetallicColors:function(){return this.toggledColors.filter((function(t){return t.is_toggled&&"metallic"===t.paint}))}},mounted:(n=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getColors();case 2:this.colors=t.sent;case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},f=(o(500),o(54)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container"},[o("div",{staticClass:"modal-body"},[o("div",{staticClass:"modal-header"},[t._t("header",[t._v("\n              Wybierz kolor:\n            ")])],2),t._v(" "),t._t("body",[o("div",[o("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center","align-items":"flex-start"}},t._l(t.metallicColors,(function(e){return o("button",{staticClass:"btn",staticStyle:{border:"1px solid grey",width:"220px"},on:{click:function(o){return t.selectColor(e)}}},[o("label",[t._v(t._s(e.color_name))]),t._v(" "),o("color-rgb-span",{attrs:{rgb:e.color_rgb}})],1)})),0)])])],2)])])])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ColorRgbSpan:o(237).default})},419:function(t,e,o){"use strict";o.r(e);o(57);var n,r=o(20),l={name:"saving-modal",data:function(){return{showModal:!1}},methods:{show:function(){this.showModal=!0},hide:function(){this.showModal=!1}},computed:{},mounted:(n=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},c=(o(502),o(54)),component=Object(c.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return this.showModal?e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("div",{staticClass:"modal-container"},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"modal-header"},[this._t("header")],2),this._v(" "),this._t("body",[e("div",[this._v("\n              Trwa zapisywanie\n            ")])])],2)])])])]):this._e()}),[],!1,null,null,null);e.default=component.exports},420:function(t,e,o){"use strict";o.r(e);o(493);var n=o(495),r=o.n(n),l={name:"cropper",props:["img","readyFn"],data:function(){return{cropper:null}},methods:{initCropper:function(){console.log("initcropper"),this.cropper=new r.a(this.$refs.image,{zoomable:!0,scalable:!0,aspectRatio:5/3,cropBoxResizable:!1,viewMode:1,ready:this.readyFn}),this.$emit("cropperInit")},destroy:function(){console.log("destroycropper"),this.cropper.destroy()},crop:function(){return this.cropper.getCroppedCanvas().toDataURL()}}},c=(o(496),o(54)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"cropper"},[t.img?o("img",{ref:"image",attrs:{src:t.img},on:{load:function(e){return e.stopPropagation(),t.initCropper(e)}}}):t._e()])])}),[],!1,null,"7631a746",null);e.default=component.exports},421:function(t,e,o){var map={"./af":260,"./af.js":260,"./ar":261,"./ar-dz":262,"./ar-dz.js":262,"./ar-kw":263,"./ar-kw.js":263,"./ar-ly":264,"./ar-ly.js":264,"./ar-ma":265,"./ar-ma.js":265,"./ar-sa":266,"./ar-sa.js":266,"./ar-tn":267,"./ar-tn.js":267,"./ar.js":261,"./az":268,"./az.js":268,"./be":269,"./be.js":269,"./bg":270,"./bg.js":270,"./bm":271,"./bm.js":271,"./bn":272,"./bn-bd":273,"./bn-bd.js":273,"./bn.js":272,"./bo":274,"./bo.js":274,"./br":275,"./br.js":275,"./bs":276,"./bs.js":276,"./ca":277,"./ca.js":277,"./cs":278,"./cs.js":278,"./cv":279,"./cv.js":279,"./cy":280,"./cy.js":280,"./da":281,"./da.js":281,"./de":282,"./de-at":283,"./de-at.js":283,"./de-ch":284,"./de-ch.js":284,"./de.js":282,"./dv":285,"./dv.js":285,"./el":286,"./el.js":286,"./en-au":287,"./en-au.js":287,"./en-ca":288,"./en-ca.js":288,"./en-gb":289,"./en-gb.js":289,"./en-ie":290,"./en-ie.js":290,"./en-il":291,"./en-il.js":291,"./en-in":292,"./en-in.js":292,"./en-nz":293,"./en-nz.js":293,"./en-sg":294,"./en-sg.js":294,"./eo":295,"./eo.js":295,"./es":296,"./es-do":297,"./es-do.js":297,"./es-mx":298,"./es-mx.js":298,"./es-us":299,"./es-us.js":299,"./es.js":296,"./et":300,"./et.js":300,"./eu":301,"./eu.js":301,"./fa":302,"./fa.js":302,"./fi":303,"./fi.js":303,"./fil":304,"./fil.js":304,"./fo":305,"./fo.js":305,"./fr":306,"./fr-ca":307,"./fr-ca.js":307,"./fr-ch":308,"./fr-ch.js":308,"./fr.js":306,"./fy":309,"./fy.js":309,"./ga":310,"./ga.js":310,"./gd":311,"./gd.js":311,"./gl":312,"./gl.js":312,"./gom-deva":313,"./gom-deva.js":313,"./gom-latn":314,"./gom-latn.js":314,"./gu":315,"./gu.js":315,"./he":316,"./he.js":316,"./hi":317,"./hi.js":317,"./hr":318,"./hr.js":318,"./hu":319,"./hu.js":319,"./hy-am":320,"./hy-am.js":320,"./id":321,"./id.js":321,"./is":322,"./is.js":322,"./it":323,"./it-ch":324,"./it-ch.js":324,"./it.js":323,"./ja":325,"./ja.js":325,"./jv":326,"./jv.js":326,"./ka":327,"./ka.js":327,"./kk":328,"./kk.js":328,"./km":329,"./km.js":329,"./kn":330,"./kn.js":330,"./ko":331,"./ko.js":331,"./ku":332,"./ku.js":332,"./ky":333,"./ky.js":333,"./lb":334,"./lb.js":334,"./lo":335,"./lo.js":335,"./lt":336,"./lt.js":336,"./lv":337,"./lv.js":337,"./me":338,"./me.js":338,"./mi":339,"./mi.js":339,"./mk":340,"./mk.js":340,"./ml":341,"./ml.js":341,"./mn":342,"./mn.js":342,"./mr":343,"./mr.js":343,"./ms":344,"./ms-my":345,"./ms-my.js":345,"./ms.js":344,"./mt":346,"./mt.js":346,"./my":347,"./my.js":347,"./nb":348,"./nb.js":348,"./ne":349,"./ne.js":349,"./nl":350,"./nl-be":351,"./nl-be.js":351,"./nl.js":350,"./nn":352,"./nn.js":352,"./oc-lnc":353,"./oc-lnc.js":353,"./pa-in":354,"./pa-in.js":354,"./pl":355,"./pl.js":355,"./pt":356,"./pt-br":357,"./pt-br.js":357,"./pt.js":356,"./ro":358,"./ro.js":358,"./ru":359,"./ru.js":359,"./sd":360,"./sd.js":360,"./se":361,"./se.js":361,"./si":362,"./si.js":362,"./sk":363,"./sk.js":363,"./sl":364,"./sl.js":364,"./sq":365,"./sq.js":365,"./sr":366,"./sr-cyrl":367,"./sr-cyrl.js":367,"./sr.js":366,"./ss":368,"./ss.js":368,"./sv":369,"./sv.js":369,"./sw":370,"./sw.js":370,"./ta":371,"./ta.js":371,"./te":372,"./te.js":372,"./tet":373,"./tet.js":373,"./tg":374,"./tg.js":374,"./th":375,"./th.js":375,"./tk":376,"./tk.js":376,"./tl-ph":377,"./tl-ph.js":377,"./tlh":378,"./tlh.js":378,"./tr":379,"./tr.js":379,"./tzl":380,"./tzl.js":380,"./tzm":381,"./tzm-latn":382,"./tzm-latn.js":382,"./tzm.js":381,"./ug-cn":383,"./ug-cn.js":383,"./uk":384,"./uk.js":384,"./ur":385,"./ur.js":385,"./uz":386,"./uz-latn":387,"./uz-latn.js":387,"./uz.js":386,"./vi":388,"./vi.js":388,"./x-pseudo":389,"./x-pseudo.js":389,"./yo":390,"./yo.js":390,"./zh-cn":391,"./zh-cn.js":391,"./zh-hk":392,"./zh-hk.js":392,"./zh-mo":393,"./zh-mo.js":393,"./zh-tw":394,"./zh-tw.js":394};function n(t){var e=r(t);return o(e)}function r(t){if(!o.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=r,t.exports=n,n.id=421},496:function(t,e,o){"use strict";o(411)},497:function(t,e,o){(e=o(55)(!1)).push([t.i,".cropper[data-v-7631a746]{min-height:400px!important;position:relative;width:100%;height:400px;box-sizing:border-box;text-align:left;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC)}",""]),t.exports=e},498:function(t,e,o){"use strict";o(412)},499:function(t,e,o){(e=o(55)(!1)).push([t.i,".selected{border:4px solid #8a2be2}",""]),t.exports=e},500:function(t,e,o){"use strict";o(413)},501:function(t,e,o){(e=o(55)(!1)).push([t.i,".modal-mask{position:fixed;z-index:9998;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:table;transition:opacity .3s ease}.modal-wrapper{display:table-cell;vertical-align:middle}.modal-container{width:880px;margin:0 auto;padding:20px 30px;background-color:#fff;border-radius:2px;box-shadow:0 2px 8px rgba(0,0,0,.33);transition:all .3s ease;font-family:Helvetica,Arial,sans-serif}.modal-header h3{margin-top:0;color:#42b983}.modal-body{margin:20px 0}.modal-default-button{float:right}.modal-enter,.modal-leave-active{opacity:0}.modal-enter .modal-container,.modal-leave-active .modal-container{transform:scale(1.1)}",""]),t.exports=e},502:function(t,e,o){"use strict";o(414)},503:function(t,e,o){(e=o(55)(!1)).push([t.i,".modal-mask{position:fixed;z-index:9998;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:table;transition:opacity .3s ease}.modal-wrapper{display:table-cell;vertical-align:middle}.modal-container{width:880px;margin:0 auto;padding:20px 30px;background-color:#fff;border-radius:2px;box-shadow:0 2px 8px rgba(0,0,0,.33);transition:all .3s ease;font-family:Helvetica,Arial,sans-serif}.modal-header h3{margin-top:0;color:#42b983}.modal-body{margin:20px 0}.modal-default-button{float:right}.modal-enter,.modal-leave-active{opacity:0}.modal-enter .modal-container,.modal-leave-active .modal-container{transform:scale(1.1)}",""]),t.exports=e},504:function(t,e,o){"use strict";o(415)},505:function(t,e,o){(e=o(55)(!1)).push([t.i,".vue-cropper{min-height:400px!important}",""]),t.exports=e},506:function(t,e,o){"use strict";o(416)},507:function(t,e,o){(e=o(55)(!1)).push([t.i,".modal-mask{position:fixed;z-index:9998;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:table;transition:opacity .3s ease}.modal-wrapper{display:table-cell;vertical-align:middle}.modal-container{width:880px;margin:0 auto;padding:20px 30px;background-color:#fff;border-radius:2px;box-shadow:0 2px 8px rgba(0,0,0,.33);transition:all .3s ease;font-family:Helvetica,Arial,sans-serif}.modal-header h3{margin-top:0;color:#42b983}.modal-body{margin:20px 0}.modal-default-button{float:right}.modal-enter,.modal-leave-active{opacity:0}.modal-enter .modal-container,.modal-leave-active .modal-container{transform:scale(1.1)}",""]),t.exports=e},508:function(t,e,o){"use strict";o.r(e);o(57);var n,r=o(20),l={name:"car-confirm-modal",data:function(){return{showModal:!1}},methods:{show:function(){this.showModal=!0},hide:function(){this.showModal=!1},confirm:function(){this.$emit("confirmed"),this.hide()}},computed:{},mounted:(n=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},c=(o(506),o(54)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.showModal?o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container"},[o("div",{staticClass:"modal-body"},[o("div",{staticClass:"modal-header"},[t._t("header")],2),t._v(" "),t._t("body",[o("div",{staticClass:"text-center"},[o("span",[t._v("Uzupełniłeś wszystkie potrzebne dane?")])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-6 text-left"},[o("button",{staticClass:"btn",on:{click:function(e){return t.hide()}}},[t._v("Nie, cofnij")])]),t._v(" "),o("div",{staticClass:"col-sm-6 text-right"},[o("button",{staticClass:"btn",on:{click:function(e){return t.confirm()}}},[t._v("Tak, zapisz")])])])])],2)])])])]):t._e()}),[],!1,null,null,null);e.default=component.exports}}]);